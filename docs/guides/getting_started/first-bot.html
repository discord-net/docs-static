<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Start making a bot | Discord.Net Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Start making a bot | Discord.Net Documentation ">
      
      
      <link rel="icon" href="../../favicon.png">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/discord-net/Discord.Net/blob/3.18.0-beta.1/docs/guides/getting_started/first-bot.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  <meta property="og:description" content="One of the ways to get started with the Discord API is to write a
basic ping-pong bot."><meta property="og:title" content="Start making a bot | Discord.Net Documentation "><meta property="og:site_name" content="Discord.Net Docs"><meta name="theme-color" content="#995EA7"><meta property="og:image" content="https://raw.githubusercontent.com/Discord-Net/Discord.Net/dev/docs/marketing/logo/PackageLogo.png"></head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../marketing/logo/SVG/Logomark Purple.svg" alt="Discord.Net">
            Discord.Net
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Guides.GettingStarted.FirstBot">
<h1 id="making-your-first-bot-with-discordnet">Making Your First Bot with Discord.Net</h1>

<p>One of the ways to get started with the Discord API is to write a
basic ping-pong bot. This bot will respond to a simple command &quot;ping.&quot;
We will expand on this to create more diverse commands later, but for
now, it is a good starting point.</p>
<h2 id="creating-a-discord-bot">Creating a Discord Bot</h2>
<p>Before writing your bot, it is necessary to create a bot account via
the Discord Applications Portal first.</p>
<ol>
<li><p>Visit the <a href="https://discord.com/developers/applications/">Discord Applications Portal</a>.</p>
</li>
<li><p>Create a new application.</p>
</li>
<li><p>Give the application a name (this will be the bot's initial username).</p>
</li>
<li><p>On the left-hand side, under <code>Settings</code>, click <code>Bot</code>.</p>
<p><img src="images/intro-bot-settings.png" alt="Step 4"></p>
</li>
<li><p>Click on <code>Add Bot</code>.</p>
<p><img src="images/intro-add-bot.png" alt="Step 5"></p>
</li>
<li><p>Confirm the popup.</p>
</li>
<li><p>(Optional) If this bot will be public, tick <code>Public Bot</code>.</p>
<p><img src="images/intro-public-bot.png" alt="Step 7"></p>
</li>
</ol>
<h2 id="adding-your-bot-to-a-server">Adding your bot to a server</h2>
<p>Bots <strong>cannot</strong> use invite links; they must be explicitly invited
through the OAuth2 flow.</p>
<ol>
<li><p>Open your bot's application on the <a href="https://discord.com/developers/applications/">Discord Applications Portal</a>.</p>
</li>
<li><p>On the left-hand side, under <code>Settings</code>, click <code>OAuth2</code>.</p>
<p><img src="images/intro-oauth-settings.png" alt="Step 2"></p>
</li>
<li><p>Scroll down to <code>OAuth2 URL Generator</code> and under <code>Scopes</code> tick <code>bot</code>.</p>
<p><img src="images/intro-scopes-bot.png" alt="Step 3"></p>
</li>
<li><p>Scroll down further to <code>Bot Permissions</code> and select the
permissions that you wish to assign your bot with.</p>
<div class="NOTE">
<h5>Note</h5>
<p>This will assign the bot with a special &quot;managed&quot; role that no
one else can use. The permissions can be changed later in the
roles settings if you ever change your mind!</p>
</div>
</li>
<li><p>Open the generated authorization URL in your browser.</p>
</li>
<li><p>Select a server.</p>
</li>
<li><p>Click on Authorize.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Only servers where you have the <code>MANAGE_SERVER</code> permission will be
present in this list.</p>
</div>
<p><img src="images/intro-authorize.png" alt="Step 6"></p>
</li>
</ol>
<h2 id="connecting-to-discord">Connecting to Discord</h2>
<p>If you have not already created a project and installed Discord.Net,
do that now.</p>
<p>For more information, see <a class="xref" href="installing.html">Installing Discord.Net</a>.</p>
<h3 id="async">Async</h3>
<p>Discord.Net uses .NET's <a href="https://docs.microsoft.com/en-us/dotnet/articles/csharp/async">Task-based Asynchronous Pattern (TAP)</a>
extensively - nearly every operation is asynchronous. It is highly
recommended for these operations to be awaited in a
properly established async context whenever possible.</p>
<p>To establish an async context, we will be creating an async main method
in your console application.</p>
<pre><code class="lang-csharp" name="Async Context">public class Program
{
    public static async Task Main()
    {
    }
}
</code></pre>
<p>As a result of this, your program will now start into an async context.</p>
<div class="WARNING">
<h5>Warning</h5>
<p>If your application throws any exceptions within an async context,
they will be thrown all the way back up to the first non-async method;
since our first non-async method is the program's <code>Main</code> method, this
means that <strong>all</strong> unhandled exceptions will be thrown up there, which
will crash your application.</p>
<p>Discord.Net will prevent exceptions in event handlers from crashing
your program, but any exceptions in your async main <strong>will</strong> cause
the application to crash.</p>
</div>
<h3 id="creating-a-logging-method">Creating a logging method</h3>
<p>Before we create and configure a Discord client, we will add a method
to handle Discord.Net's log events.</p>
<p>To allow agnostic support of as many log providers as possible, we
log information through a <code>Log</code> event with a proprietary <code>LogMessage</code>
parameter. See the <a class="xref" href="../../api/Discord.Rest.BaseDiscordClient.html#Discord_Rest_BaseDiscordClient_Log">API Documentation</a> for this event.</p>
<p>If you are using your own logging framework, this is where you would
invoke it. For the sake of simplicity, we will only be logging to
the console.</p>
<p>You may learn more about this concept in <a class="xref" href="../concepts/logging.html">Logging Events/Data</a>.</p>
<pre><code class="lang-csharp" name="Async Context">private static Task Log(LogMessage msg)
{
    Console.WriteLine(msg.ToString());
    return Task.CompletedTask;
}
</code></pre><h3 id="creating-a-discord-client">Creating a Discord Client</h3>
<p>Finally, we can create a new connection to Discord.</p>
<p>Since we are writing a bot, we will be using a <a class="xref" href="../../api/Discord.WebSocket.DiscordSocketClient.html">DiscordSocketClient</a>
along with socket entities. See <a class="xref" href="terminology.html">Terminology</a>
if you are unsure of the differences. To establish a new connection,
we will create an instance of <a class="xref" href="../../api/Discord.WebSocket.DiscordSocketClient.html">DiscordSocketClient</a> in the new async
main. You may pass in an optional <a class="xref" href="../../api/Discord.WebSocket.DiscordSocketConfig.html">DiscordSocketConfig</a>
if necessary. For most users, the default will work fine.</p>
<p>Before connecting, we should hook the client's <code>Log</code> event to the
log handler that we had just created. Events in Discord.Net work
similarly to any other events in C#.</p>
<p>Next, you will need to &quot;log in to Discord&quot; with the <a class="xref" href="../../api/Discord.Rest.BaseDiscordClient.html#Discord_Rest_BaseDiscordClient_LoginAsync_">LoginAsync</a>
method with the application's &quot;token.&quot;</p>
<p><img src="images/intro-token.png" alt="Token"></p>
<div class="NOTE">
<h5>Note</h5>
<p>Pay attention to what you are copying from the developer portal!
A token is not the same as the application's &quot;client secret.&quot;</p>
</div>
<p>We may now invoke the client's <a class="xref" href="../../api/Discord.WebSocket.DiscordSocketClient.html#Discord_WebSocket_DiscordSocketClient_StartAsync_">StartAsync</a> method, which will
start connection/reconnection logic. It is important to note that
<strong>this method will return as soon as connection logic has been started!</strong>
Any methods that rely on the client's state should go in an event
handler. This means that you should <strong>not</strong> directly be interacting with
the client before it is fully ready.</p>
<p>Finally, we will want to block the async main method from returning
when running the application. To do this, we can await an infinite delay
or any other blocking method, such as reading from the console.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p>Your bot's token can be used to gain total access to your bot, so
<strong>do not</strong> share this token with anyone else! You should store this
token in an external source if you plan on distributing
the source code for your bot.</p>
<p>In the following example, we retrieve the token from a pre-defined
variable, which is <strong>NOT</strong> secure, especially if you plan on
distributing the application in any shape or form.</p>
<p>We recommend alternative storage such as
<a href="https://en.wikipedia.org/wiki/Environment_variable">Environment Variables</a>, an external configuration file, or a
secrets manager for safe-handling of secrets.</p>
</div>
<p>The following lines can now be added:</p>
<pre><code class="lang-csharp" name="Create client">private static DiscordSocketClient _client;

public static async Task Main()
{
    _client = new DiscordSocketClient();

    _client.Log += Log;

    //  You can assign your bot token to a string, and pass that in to connect.
    //  This is, however, insecure, particularly if you plan to have your code hosted in a public repository.
    var token = &quot;token&quot;;

    // Some alternative options would be to keep your token in an Environment Variable or a standalone file.
    // var token = Environment.GetEnvironmentVariable(&quot;NameOfYourEnvironmentVariable&quot;);
    // var token = File.ReadAllText(&quot;token.txt&quot;);
    // var token = JsonConvert.DeserializeObject&lt;AConfigurationClass&gt;(File.ReadAllText(&quot;config.json&quot;)).Token;

    await _client.LoginAsync(TokenType.Bot, token);
    await _client.StartAsync();

    // Block this task until the program is closed.
    await Task.Delay(-1);
}
</code></pre>
<p>At this point, feel free to start your program and see your bot come
online in Discord.</p>
<div class="WARNING">
<h5>Warning</h5>
<p>Getting a warning about <code>A supplied token was invalid.</code> and/or
having trouble logging in? Double-check whether you have put in
the correct credentials and make sure that it is <em>not</em> a client
secret, which is different from a token.</p>
</div>
<div class="WARNING">
<h5>Warning</h5>
<p>Encountering a <code>PlatformNotSupportedException</code> when starting your bot?
This means that you are targeting a platform where .NET's default
WebSocket client is not supported. Refer to the <a class="xref" href="installing.html">installation guide</a>
for how to fix this.</p>
</div>
<div class="NOTE">
<h5>Note</h5>
<p>For your reference, you may view the <a href="samples/first-bot/complete.cs">completed program</a>.</p>
</div>
<h1 id="building-a-bot-with-commands">Building a bot with commands</h1>
<p>To create commands for your bot, you may choose from a variety of
command processors available. Throughout the guides, we will be using
the one that Discord.Net ships with. <a class="xref" href="../text_commands/intro.html">Introduction to the Chat Command Service</a> will
guide you through how to setup a program that is ready for
<a class="xref" href="../../api/Discord.Commands.CommandService.html">CommandService</a>.</p>
<p>For reference, view an <a href="samples/first-bot/structure.cs">annotated example</a> of this structure.</p>
<p>It is important to know that the recommended design pattern of bots
should be to separate...</p>
<ol>
<li>the program (initialization and command handler)</li>
<li>the modules (handle commands)</li>
<li>the services (persistent storage, pure functions, data manipulation)</li>
</ol>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/discord-net/Discord.Net/blob/3.18.0-beta.1/docs/guides/getting_started/first-bot.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Discord.Net © 2015-2025 3.18.0
        </div>
      </div>
    </footer>
  </body>
</html>
